<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <link href="./style.css" rel="stylesheet" />
    <title>Ricardo Cruz</title>
  </head>
  <body onload="loadGallery()">
    <div class="container global">
      <nav
        class="
          navbar
          sticky-top
          navbar-expand-lg navbar-light
          bg-light
          nav-custom
        "
      >
        <a class="navbar-brand main-tab" href="./index.html">Biography</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="sec-tab" href="./index.html">Home</a>
            </li>
            <li class="nav-item">
              <a class="sec-tab" href="./links.html">Links</a>
            </li>
            <li class="nav-item">
              <a class="sec-tab st-active" href="./fotos.html">Photos</a>
            </li>
          </ul>
        </div>
      </nav>

      <div class="content">
        <div class="row">
          <h1 class="header-title">Great Images</h1>
          <div class="col-12 col-sm-12 col-md-12 col-lg-8">
            <div
              id="carouselExampleIndicators"
              class="carousel slide"
              data-bs-ride="carousel"
            >
              <div id="carousel-indicators" class="carousel-indicators">
                <!-- <button
                  type="button"
                  data-bs-target="#carouselExampleIndicators"
                  data-bs-slide-to="0"
                  class="active"
                  aria-current="true"
                  aria-label="Slide 1"
                ></button>
                
                (...)

                <button
                  type="button"
                  data-bs-target="#carouselExampleIndicators"
                  data-bs-slide-to="5"
                  aria-label="Slide 6"
                ></button> -->

                <!-- INFO ADDED DINAMICALLY ON FUNCTION LoadGallery()-->
              </div>
              <div id="carousel-inner" class="carousel-inner">
                <!-- <div class="carousel-item active">
                  <img
                    src="./img/p1.jpg"
                    class="d-block w-100"
                    alt="pier image"
                  />
                </div>
                
                (...)

                <div class="carousel-item">
                  <img
                    src="./img/p6.jpg"
                    class="d-block w-100"
                    alt="mountains image"
                  />
                </div> -->

                <!-- INFO ADDED DINAMICALLY IN FUNCTION LoadGallery()-->
              </div>
              <button
                class="carousel-control-prev"
                type="button"
                data-bs-target="#carouselExampleIndicators"
                data-bs-slide="prev"
              >
                <span
                  class="carousel-control-prev-icon"
                  aria-hidden="true"
                ></span>
                <span class="visually-hidden">Previous</span>
              </button>
              <button
                class="carousel-control-next"
                type="button"
                data-bs-target="#carouselExampleIndicators"
                data-bs-slide="next"
              >
                <span
                  class="carousel-control-next-icon"
                  aria-hidden="true"
                ></span>
                <span class="visually-hidden">Next</span>
              </button>
            </div>
          </div>
          <div class="col-12 col-sm-12 col-md-12 col-lg-4">
            <h2 class="all-images-title">All Images</h2>
            <div id="gallery-row" class="row img-grid">
              <!-- <div class="col-4">
                <img
                  class="small-img"
                  src="./img/p1.jpg"
                  alt="photo1"
                  onclick="loadImage('p1')"
                  data-bs-toggle="modal"
                  data-bs-target="#exampleModal"
                />
              </div>
              
              (...)

              <div class="col-4">
                <img
                  class="small-img"
                  src="./img/p6.jpg"
                  alt="photo1"
                  onclick="loadImage('p6')"
                  data-bs-toggle="modal"
                  data-bs-target="#exampleModal"
                />
              </div> -->

              <!-- INFO ADDED DINAMYCALLY IN FUNCTION LoadGallery() -->
            </div>
          </div>
        </div>
      </div>

      <!-- Modal -->
      <div
        class="modal fade"
        id="exampleModal"
        tabindex="-1"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog modal-xl modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-body">
              <img id="modal-img" alt="teste" />
            </div>
          </div>
        </div>
      </div>

      <footer>
        Copyright &copy; 2027 by Ricardo Cruz. Part of "Mestrado Comunicações e
        Tecnologias Web" course in University of Aveiro. Contact email -
        <span>ricardo.cruz29@ua.pt</span>
      </footer>
    </div>

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
      $(document).ready(function () {
        $(window).scroll(function () {
          if ($(document).scrollTop() > 20) {
            $("nav").addClass("nav-custom-scrolled");
          } else {
            $("nav").removeClass("nav-custom-scrolled");
          }
        });
      });
    </script>

    <script language="javascript">
      function loadGallery() {
        let galleryJSON =
          "[" +
          '{"photo_id":"p1","path":"./img/p1.jpg", "alt":"laptop"},' +
          '{"photo_id":"p2","path":"./img/p2.jpg", "alt":"goose"},' +
          '{"photo_id":"p3","path":"./img/p3.jpg", "alt":"autumn tree"},' +
          '{"photo_id":"p4","path":"./img/p4.jpg", "alt":"lake and mountain"},' +
          '{"photo_id":"p5","path":"./img/p5.jpg", "alt":"lighthouse"},' +
          '{"photo_id":"p6","path":"./img/p6.jpg", "alt":"buffalo"}]';

        const data = JSON.parse(galleryJSON);

        for (var i = 0; i < data.length; i++) {
          /*All Images Section */
          var img_element = document.createElement("img");
          img_element.classList.add("small-img");
          img_element.id = data[i].photo_id;
          img_element.src = data[i].path;
          img_element.alt = data[i].alt;
          img_element.setAttribute("onclick", "loadImage()");
          img_element.setAttribute("data-bs-toggle", "modal");
          img_element.setAttribute("data-bs-target", "#exampleModal");

          var col_element = document.createElement("div");
          col_element.classList.add("col-4");

          col_element.appendChild(img_element);
          document.getElementById("gallery-row").appendChild(col_element);

          /*Carousel Section*/

          /*Carousel Indicators */
          var button_element = document.createElement("button");
          button_element.type = "button";
          button_element.setAttribute(
            "data-bs-target",
            "#carouselExampleIndicators"
          );
          button_element.setAttribute("data-bs-slide-to", i.toString());
          if (i == 0) {
            button_element.classList.add("active");
          }
          button_element.setAttribute("aria-current", "true");
          button_element.setAttribute(
            "aria-label",
            "Slide" + (i + 1).toString()
          );

          document
            .getElementById("carousel-indicators")
            .appendChild(button_element);

          /*Carousel Images */
          var img_carousel_element = document.createElement("img");
          img_carousel_element.src = data[i].path;
          img_carousel_element.classList.add("d-block");
          img_carousel_element.classList.add("w-100");
          img_carousel_element.alt = data[i].alt;

          var carousel_item_element = document.createElement("div");
          carousel_item_element.classList.add("carousel-item");
          if (i == 0) {
            carousel_item_element.classList.add("active");
          }
          carousel_item_element.appendChild(img_carousel_element);
          document
            .getElementById("carousel-inner")
            .appendChild(carousel_item_element);
        }
      }

      function loadImage() {
        window.onclick = (e) => {
          var photoId = e.target.id;
          modalImg = document.getElementById("modal-img");
          modalImg.src = "./img/" + photoId + ".jpg";
          modalImg.style.width = "100%";
        };
      }
    </script>
    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
    -->
  </body>
</html>
